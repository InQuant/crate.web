{% extends "site_base.html" %}

{% load i18n %}
{% load humanize %}
{% load staticfiles %}
{% load package_tags %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'css/prettify.css' %}">
{% endblock %}

{% block body_base %}
    <div class="container">
        <div class="content">
            <div class="page-header">
                <h1>{% block package_name %}{% endblock %} <small> {% block release_version %}{% endblock %}</small></h1>
            </div>

            <div class="row">
                <div class="span9">
                    <div class="summary">
                        {% block release_summary %}{% endblock %}
                    </div>

                    <div id="install-cmd">
                        <h4>Install</h4>
                        {{ object.install_command }}
                    </div>

                    <ul id="package-tabs" class="nav tabs">
                        <li class="active"><a href="#info" data-toggle="tab">Info</a></li>
                        <li><a href="#description" data-toggle="tab">Description</a></li>
                        <li><a href="#files" data-toggle="tab">Files</a></li>
                    </ul>

                    <div class="tab-content">
                        <div id="description" class="tab-pane fade">
                            {% block release_description %}{% endblock %}
                        </div>

                        <div id="info" class="tab-pane fade in active">
                            <div class="author">
                                <h4>Author</h4>
                                {% block release_author %}{% endblock %}
                            </div>

                            <div class="links">
                                <h4>Links</h4>
                                <ul class="unstyled">
                                    {% block release_links %}{% endblock %}
                                </ul>
                            </div>

                            <div class="requirements">
                                <h4>Pip</h4>
                                {{ object.requirement_line }}
                            </div>

                            <div id="classifiers">
                                {% block release_classifiers %}
                                    <h4>Classifiers</h4>
                                {% endblock %}
                            </div>

                            <div class="row">
                                <div class="span3">
                                    {% block release_requirements %}
                                        <h4>Requirements</h4>
                                    {% endblock %}
                                </div>

                                <div class="span3">
                                    {% block release_provides %}
                                        <h4>Provides</h4>
                                    {% endblock %}
                                </div>

                                <div class="span3">
                                    {% block release_obsoletes %}
                                        <h4>Obsoletes</h4>
                                    {% endblock %}
                                </div>
                            </div>
                        </div>

                        <div id="files" class="tab-pane fade">
                            {% block release_files %}
                            {% endblock %}
                        </div>
                    </div>
                </div>

                <div id="sidebar" class="span3">
                    <h3 class="visuallyhidden">Downloads</h3>
                    <div class="downloads">
                        <div class="package"><span class="count">{% block package_downloads %}{% endblock %}</span> total downloads</div>
                        <div class="version"><span class="count">{% block release_downloads %}{% endblock %}</span> for this version</div>
                    </div>

                    <h3>Versions</h3>
                    <div class="versions">
                        {% block package_versions %}
                        {% endblock %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_body %}
    <script src="{% static "js/prettify/prettify.js" %}"></script>
    <script>
        $(function(){
            $("#description pre.literal-block").addClass("prettyprint");
            prettyPrint();
        });
    </script>
{% endblock %}
